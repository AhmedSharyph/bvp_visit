<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bedridden Patient Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-white shadow p-4 flex justify-between items-center">
    <h1 class="text-xl font-bold text-gray-800">Bedridden Patient Dashboard</h1>
    <div id="userEmail" class="text-gray-500 text-sm">Loading...</div>
  </header>

  <!-- Main Content -->
  <main class="flex-1 p-6">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

      <!-- Register Patient Card -->
      <a href="register.html" class="group bg-white p-6 rounded-xl shadow hover:shadow-xl transition transform hover:-translate-y-1 animate__animated animate__fadeIn">
        <div class="flex flex-col items-center justify-center">
          <svg class="w-12 h-12 text-blue-500 mb-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/>
          </svg>
          <h2 class="text-lg font-semibold text-gray-800 mb-2">Register Patient</h2>
          <p class="text-gray-500 text-sm text-center">Add a new bedridden patient to the system.</p>
        </div>
      </a>

      <!-- Add Visit Card -->
      <a href="visit.html" class="group bg-white p-6 rounded-xl shadow hover:shadow-xl transition transform hover:-translate-y-1 animate__animated animate__fadeIn animate__delay-1s">
        <div class="flex flex-col items-center justify-center">
          <svg class="w-12 h-12 text-green-500 mb-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m2 6H7m10-6V7a2 2 0 00-2-2H9a2 2 0 00-2 2v5"/>
          </svg>
          <h2 class="text-lg font-semibold text-gray-800 mb-2">Add Visit</h2>
          <p class="text-gray-500 text-sm text-center">Record a new nurse, doctor, or non-routine visit.</p>
        </div>
      </a>

      <!-- View Patients Card -->
      <a href="patients.html" class="group bg-white p-6 rounded-xl shadow hover:shadow-xl transition transform hover:-translate-y-1 animate__animated animate__fadeIn animate__delay-2s">
        <div class="flex flex-col items-center justify-center">
          <svg class="w-12 h-12 text-purple-500 mb-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A12.06 12.06 0 0112 15a12.06 12.06 0 016.879 2.804M12 12a5 5 0 100-10 5 5 0 000 10z"/>
          </svg>
          <h2 class="text-lg font-semibold text-gray-800 mb-2">View Patients</h2>
          <p class="text-gray-500 text-sm text-center">Search and view all registered patients in the system.</p>
        </div>
      </a>

    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-white shadow p-4 text-center text-gray-400 text-sm">
    &copy; 2026 Health Facility. All rights reserved.
  </footer>

  <script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbxmcWZi7YlMySKKbBhKkhUh3Ynj1LuVMV0o7YlgcTCrp8AA4pDypJs4XZWWi2dLn7Mq/exec";

    // Display logged-in user email
    const userEmailEl = document.getElementById('userEmail');
    fetch(GAS_URL + "?action=getCurrentUser")
      .then(r => r.json())
      .then(data => {
        if (data.email) userEmailEl.innerText = `Logged in as: ${data.email}`;
        else userEmailEl.innerText = '';
      })
      .catch(()=> userEmailEl.innerText = '');
  </script>

</body>
</html>
